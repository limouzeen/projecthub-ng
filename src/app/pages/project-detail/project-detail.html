<section class="min-h-[100svh] px-4 py-6">
  <div class="flex items-center justify-between max-w-5xl mx-auto mb-4">
    <div class="text-xl font-semibold">Project tables</div>
    <div class="flex gap-2">
      <input class="input w-56" placeholder="Filter tables..." [value]="q()" (input)="q.set($any($event.target).value)" />
      <button class="btn-primary-enhance" (click)="createTable()" [disabled]="creating()">New</button>
    </div>
  </div>

  <div class="grid md:grid-cols-2 gap-6 max-w-5xl mx-auto">
    <div class="glass rounded-3xl p-5">
      <div class="text-sm text-slate-500 mb-3">Tables</div>
      <div class="space-y-2">
        @for (t of filtered(); track t.tableId) {
          <div class="flex items-center justify-between rounded-2xl px-3 py-2 bg-white/70 shadow">
            <div class="font-medium">{{ t.name }}</div>
            <div class="flex gap-2">
              <button class="btn-ghost-enhance" (click)="open(t)">Open</button>
              <button class="btn-ghost-enhance" (click)="renameTable(t)" [disabled]="renamingId()===t.tableId">
                @if (renamingId()===t.tableId) {Renaming...} @else {Rename}
              </button>
              <button class="btn-ghost-enhance text-rose-600" (click)="deleteTable(t)" [disabled]="deletingId()===t.tableId">
                @if (deletingId()===t.tableId) {Deleting...} @else {Delete}
              </button>
            </div>
          </div>
        } @empty {
          <div class="text-sm text-slate-500">No tables yet.</div>
        }
      </div>
    </div>

    <div class="glass rounded-3xl p-5">
      <div class="text-sm text-slate-500 mb-3">Hints</div>
      <ul class="list-disc pl-4 text-sm text-slate-600 space-y-1">
        <li>“Open” เพื่อไปหน้าจัดการฟิลด์และแถว</li>
        <li>สามารถสร้าง <strong>Lookup</strong> เพื่อดึงค่าจากตารางอื่น และ <strong>Formula</strong> สำหรับคำนวณอัตโนมัติ</li>
      </ul>
    </div>
  </div>
</section>
