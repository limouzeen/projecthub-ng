@if (open) {
  <div class="overlay" (click)="onCancel()">
    <div class="dialog glass rounded-2xl p-5 w-[92vw] max-w-md"
         (click)="$event.stopPropagation()">

      @if (mode === 'url') {
        <div class="title mb-2">Set image URL</div>
        <p class="text-xs text-slate-500 mb-3">
          วางลิงก์รูปภาพที่ต้องการแสดงในเซลล์นี้ สามารถใช้ลิงก์จาก CDN / รูปสาธารณะได้
        </p>

        <form (submit)="$event.preventDefault(); onSubmitUrl()" class="space-y-3">
          <input
            class="input w-full"
            type="url"
            [(ngModel)]="modelUrl"
            name="imageUrl"
            placeholder="https://example.com/image.png" />

          <div class="flex justify-end gap-2 pt-1">
            <button type="button" class="btn-ghost" (click)="onCancel()">Cancel</button>
            <button
              type="submit"
              class="btn-primary"
              [disabled]="!(modelUrl.trim())">
              Save
            </button>
          </div>
        </form>
      }

      @if (mode === 'delete') {
        <div class="title mb-2">Remove image</div>
        <p class="text-xs text-slate-600 mb-4">
          ต้องการลบรูปภาพนี้ออกจากเซลล์ใช่หรือไม่? ข้อมูลอื่นในแถวจะไม่ถูกลบ
        </p>
        <div class="flex justify-end gap-2">
          <button type="button" class="btn-ghost" (click)="onCancel()">Cancel</button>
          <button type="button" class="btn-danger" (click)="onConfirmDelete()">
            Remove
          </button>
        </div>
      }
    </div>
  </div>
}
